# ============================================
# 開発用 Dockerfile (シンプル・高速ビルド重視)
# ============================================

FROM rust:slim-bookworm

WORKDIR /app

# 開発に必要なパッケージをインストール
RUN apt-get update && apt-get install -y \
    pkg-config \
    libssl-dev \
    && rm -rf /var/lib/apt/lists/*

RUN rustup component add rustfmt clippy
RUN cargo install sqlx-cli --no-default-features --features postgres

EXPOSE 8000

CMD ["cargo", "run"]
